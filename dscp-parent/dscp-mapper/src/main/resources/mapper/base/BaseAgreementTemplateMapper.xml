<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.topideal.dscp.mapper.base.BaseAgreementTemplateMapper">

    <select id="findPage" resultType="BaseAgreementTemplateRespDto">
        SELECT `id`,`name`,`sign`,`type`,`status`,`temp`,`editor`,`edit_time`
        FROM `base_agreement_template`
        <where>
            `deleted`=0
            <if test="query.id!=null and query.id!=''">and `id` like concat('%',#{query.id},'%')</if>
            <if test="query.name!=null and query.name!=''">and `name` like concat('%',#{query.name},'%')</if>
            <if test="query.sign!=null and query.sign!=''">and `sign` = #{query.sign}</if>
            <if test="query.type!=null">and `type` =#{query.type}</if>
            <if test="query.status!=null">and `status` =#{query.status}</if>
        </where>
        order by create_time desc
    </select>
</mapper>